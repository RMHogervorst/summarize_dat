Uit antwoord van stackechange
https://stackoverflow.com/questions/36557744/can-i-create-rmarkdown-documents-dynamicaly

bleek dat eigenlijk best mogelijk is om te knitten. Alleen niet direct vanuit
rstudio.

De volgende procedure werkt:

maak template in inst/ ...
met daarin formules enz.
doe chunk met asis
```{r, results="asis"}
dataset <- iris
for( i in seq_len(ncol(dataset)) ) {
  cat("### ", names(dataset)[i], "\n\n")
  if(class(dataset[[i]]) == 'numeric') {
    cat(mean(dataset[[i]]),'\n')
  } else if(class(dataset[[i]])=='factor') {
    print(table(dataset[[i]]))
  } else {
    cat('Something Else\n\n')
  }
}
```

knit het.

knitr::knit("inst/rmarkdown/templates/testtemplate.Rmd", output = "templatetest1.Rmd")


idealiter verstop ik de template dingen in R/ en produceer je een codebook
in wd() zeg maar de working directory tenzij iemand de locatie
van output expliciet aangeeft.


